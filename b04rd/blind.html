<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thee B Box</title>
    <link rel="stylesheet" href="blind.css">
</head>
<body>
    <!-- Intro Modal -->
    <div id="introModal" class="xp-modal active">
        <div class="xp-window">
            <div class="xp-window-header">
                <span>WELCOME_2_THE_B04RD.exe</span>
                <button class="xp-close-btn" onclick="closeIntro()">√ó</button>
            </div>
            <div class="xp-window-body">
                <div class="intro-content">
                    <h2>WELCOME 2 THE B04RD</h2>
                    <h3>(finally)</h3>
                    <p class="sponsor-text">tonites game is sponsored by THEEEEE one and only.</p>
                    <div class="ready-text">Ready???</div>
                    <button class="xp-button primary" onclick="startExperience()">START ‚Üí</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Team Selection Modal -->
    <div id="teamModal" class="xp-modal">
        <div class="xp-window">
            <div class="xp-window-header">
                <span>TEAM_SELECT.exe</span>
            </div>
            <div class="xp-window-body">
                <h2>First, which team are you?</h2>
                <div class="team-selection">
                    <button class="team-btn hot-team" data-team="hot">
                        <span class="team-icon">üî•</span>
                        <span>Team Hot</span>
                    </button>
                    <button class="team-btn cold-team" data-team="cold">
                        <span class="team-icon">‚ùÑÔ∏è</span>
                        <span>Team Cold</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Game Board -->
    <div id="gameBoard" class="game-board hidden">
        <div class="header">
            <div class="team-display">
                <span id="teamName"></span>
            </div>
            <div class="score-display">
                <span>Score: </span><span id="teamScore">0</span>
            </div>
        </div>

        <div class="cans-container">
            <div class="can-wrapper" data-can="lamby">
                <div class="can-card">
                    <div class="can-front">
                        <img src="../assets/b04rd/lamby.png" alt="Lamby Can">
                    </div>
                    <div class="can-back">
                        <div class="challenge-content">
                            <h3>Challenge</h3>
                            <p class="challenge-text">Waiting for challenge...</p>
                            <button class="complete-btn hidden">Mark Complete</button>
                        </div>
                    </div>
                </div>
                <div class="points-selector hidden">
                    <button class="points-btn" data-points="15000">15K</button>
                    <button class="points-btn" data-points="25000">25K</button>
                    <button class="points-btn" data-points="50000">50K</button>
                </div>
            </div>

            <div class="can-wrapper" data-can="flyers">
                <div class="can-card">
                    <div class="can-front">
                        <img src="../assets/b04rd/flyers.png" alt="Flyers Can">
                    </div>
                    <div class="can-back">
                        <div class="challenge-content">
                            <h3>Challenge</h3>
                            <p class="challenge-text">Waiting for challenge...</p>
                            <button class="complete-btn hidden">Mark Complete</button>
                        </div>
                    </div>
                </div>
                <div class="points-selector hidden">
                    <button class="points-btn" data-points="15000">15K</button>
                    <button class="points-btn" data-points="25000">25K</button>
                    <button class="points-btn" data-points="50000">50K</button>
                </div>
            </div>

            <div class="can-wrapper" data-can="mashups">
                <div class="can-card">
                    <div class="can-front">
                        <img src="../assets/b04rd/mashups.png" alt="Mashups Can">
                    </div>
                    <div class="can-back">
                        <div class="challenge-content">
                            <h3>Challenge</h3>
                            <p class="challenge-text">Waiting for challenge...</p>
                            <button class="complete-btn hidden">Mark Complete</button>
                        </div>
                    </div>
                </div>
                <div class="points-selector hidden">
                    <button class="points-btn" data-points="15000">15K</button>
                    <button class="points-btn" data-points="25000">25K</button>
                    <button class="points-btn" data-points="50000">50K</button>
                </div>
            </div>

            <div class="can-wrapper" data-can="twitter">
                <div class="can-card">
                    <div class="can-front">
                        <img src="../assets/b04rd/twitter.png" alt="Twitter Can">
                    </div>
                    <div class="can-back">
                        <div class="challenge-content">
                            <h3>Challenge</h3>
                            <p class="challenge-text">Waiting for challenge...</p>
                            <button class="complete-btn hidden">Mark Complete</button>
                        </div>
                    </div>
                </div>
                <div class="points-selector hidden">
                    <button class="points-btn" data-points="15000">15K</button>
                    <button class="points-btn" data-points="25000">25K</button>
                    <button class="points-btn" data-points="50000">50K</button>
                </div>
            </div>
        </div>

        <div class="status-message" id="statusMessage"></div>
    </div>

    <!-- Background Audio -->
    <audio id="bgMusic" loop>
        <source src="../assets/b04rd/mike-bg.mp3" type="audio/mpeg">
    </audio>

    <!-- Firebase Scripts -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, doc, setDoc, onSnapshot, query, orderBy, limit, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Make Firebase available globally
        window.firebaseConfig = {
            apiKey: "AIzaSyDJ8uiR2qEUfXIuFEO21-40668WNpOdj2w",
            authDomain: "c0uchz0mb13.firebaseapp.com",
            projectId: "c0uchz0mb13",
            storageBucket: "c0uchz0mb13.firebasestorage.app",
            messagingSenderId: "1051521591004",
            appId: "1:1051521591004:web:1301f129fc0f3032f6f619",
            measurementId: "G-6BNDYZQRPE"
        };
        
        window.app = initializeApp(window.firebaseConfig);
        window.db = getFirestore(window.app);
        window.firebaseUtils = {
            collection, doc, setDoc, onSnapshot, query, orderBy, limit, serverTimestamp
        };
    </script>
    
    <script src="blind.js"></script>
</body>
</html>