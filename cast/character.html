<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>INTERNET OLYMPICS 2 üìÄ player portal</title>
    <link rel="stylesheet" href="character.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen">
        <div class="login-window">
            <div class="window-header">
                <span>üîê INTERNET OLYMPICS 2 - access required</span>
            </div>
            <div class="window-body">
                <div class="access-form">
                    <div>
                        <div class="form-label">enter ur access code:</div>
                        <input type="text" id="accessInput" class="xp-input" placeholder="TYPE HERE" maxlength="20">
                    </div>
                    <div class="error-msg" id="errorMsg"></div>
                    <button class="xp-button" onclick="CharacterApp.validateAccess()">
                        enter üìÄ
                    </button>
                    <div style="font-size: 10px; color: #666; margin-top: 10px;">
                        no code? dm the moderator on instagram
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game View -->
    <div id="gameView">
        <!-- Score Ticker -->
        <div class="score-ticker">
            <div class="ticker-content">
                <span class="ticker-item">üåê INTERNET OLYMPICS 2 üåê</span>
                <span class="ticker-item hot-score">üî• HOT: <span id="hotScore">0</span> üî•</span>
                <span class="ticker-item cold-score">‚ùÑÔ∏è COLD: <span id="coldScore">0</span> ‚ùÑÔ∏è</span>
                <span class="ticker-item">üåê INTERNET OLYMPICS 2 üåê</span>
                <span class="ticker-item hot-score">üî• HOT: <span id="hotScore2">0</span> üî•</span>
                <span class="ticker-item cold-score">‚ùÑÔ∏è COLD: <span id="coldScore2">0</span> ‚ùÑÔ∏è</span>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="action-bar">
            <button class="action-btn" onclick="CharacterApp.showMyProfile()">
                my stuff üìÄ
            </button>
            <button class="action-btn" onclick="CharacterApp.showLeaderboard()">
                leaderboard üìä
            </button>
        </div>

        <div class="cd-playground">
            <div class="cd-container" id="cdContainer">
                <!-- CDs will be dynamically added here -->
            </div>
            <div class="portal-zone" id="portal">
            </div>
        </div>
    </div>

    <!-- Player Details Popup -->
    <div class="xp-popup player-popup" id="playerPopup">
        <div class="popup-header">
            <span id="popupTitle">player info</span>
            <button class="popup-close" onclick="CharacterApp.closePopup()">√ó</button>
        </div>
        <div class="popup-body">
            <div class="player-info">
                <div class="player-disc-display">
                    <img id="popupDisc" src="" alt="disc">
                </div>
                <div class="player-stats">
                    <div class="stat-row">
                        <span class="stat-label">handle:</span>
                        <span id="popupHandle">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">character:</span>
                        <span id="popupCharacter">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">team:</span>
                        <span id="popupTeam">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">status:</span>
                        <span id="popupStatus">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">individual pts:</span>
                        <span id="popupIndPoints">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal-overlay" id="profileModal">
        <div class="modal-window">
            <div class="modal-header">
                <span id="profileTitle">ur stuff</span>
                <button class="popup-close" onclick="CharacterApp.closeProfile()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="mod-message" id="modMessage">
                    <strong>üì¨ message from moderator:</strong><br>
                    <span id="modMessageText"></span>
                </div>

                <div class="profile-section">
                    <div class="section-title">ur character</div>
                    <div class="player-info">
                        <div class="player-disc-display">
                            <img id="profileDisc" src="" alt="ur disc">
                        </div>
                        <div class="player-stats">
                            <div class="stat-row">
                                <span class="stat-label">character:</span>
                                <span id="profileCharName">-</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">show:</span>
                                <span id="profileShow">-</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">team:</span>
                                <span id="profileTeam">-</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">individual pts:</span>
                                <span id="profileIndPts">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="profile-section">
                    <div class="section-title">ur credits</div>
                    <div class="credits-display" id="creditsDisplay">
                        credits: 0
                    </div>
                </div>

                <div class="profile-section">
                    <div class="section-title">ur tools</div>
                    <div class="weapons-grid" id="weaponsGrid">
                        <!-- Tools will be added here -->
                    </div>
                    <button class="xp-button" style="margin-top: 15px; width: 100%;" onclick="CharacterApp.openShop()">
                        grab more tools üî™
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shop Modal -->
    <div class="modal-overlay" id="shopModal">
        <div class="modal-window">
            <div class="modal-header">
                <span>tool shop ü™§</span>
                <button class="popup-close" onclick="CharacterApp.closeShop()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="credits-display" id="shopCredits">
                    ur credits: 0
                </div>

                <div class="shop-grid" id="shopGrid">
                    <!-- Shop items will be added here -->
                </div>

                <div class="cart-total" id="cartTotal">
                    total: 0 credits
                </div>

                <div class="success-msg" id="successMsg">
                    ‚úì request sent! wait for approval
                </div>

                <div class="shop-buttons">
                    <button class="xp-button" onclick="CharacterApp.checkout()">
                        send request üì°
                    </button>
                    <button class="xp-button" onclick="CharacterApp.clearCart()">
                        clear cart
                    </button>
                    <button class="xp-button" onclick="CharacterApp.closeShop()">
                        cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div class="modal-overlay" id="leaderboardModal">
        <div class="modal-window">
            <div class="modal-header">
                <span>üìä leaderboard</span>
                <button class="popup-close" onclick="CharacterApp.closeLeaderboard()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="profile-section">
                    <div class="section-title">top players</div>
                    <table style="width: 100%; font-size: 11px;">
                        <thead>
                            <tr style="background: #000080; color: white;">
                                <th style="padding: 5px;">rank</th>
                                <th style="padding: 5px;">handle</th>
                                <th style="padding: 5px;">team</th>
                                <th style="padding: 5px;">points</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboardBody">
                            <!-- Will be populated -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Audio -->
    <audio id="bgMusic" loop>
        <source src="../assets/cast/character-bg.mp3" type="audio/mpeg">
    </audio>
    <audio id="popOpen" preload>
        <source src="../assets/cast/pop-open.mp3" type="audio/mpeg">
    </audio>
    <audio id="popClose" preload>
        <source src="../assets/cast/pop-close.mp3" type="audio/mpeg">
    </audio>

    <!-- Scripts -->
    <script type="module" src="character.js"></script>
</body>
</html>