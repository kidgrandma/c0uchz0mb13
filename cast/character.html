<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internet Olympics 2 - Select Your Character</title>
    <link rel="stylesheet" href="character.css">
</head>
<body>
    <!-- Video Background -->
    <video class="video-bg" id="videoBg" autoplay muted loop playsinline>
        <source src="../assets/cast/cast-access.mp4" type="video/mp4">
    </video>
    
    <!-- Background Music -->
    <audio id="bgMusic" autoplay loop>
        <source src="../assets/cast/encore.mp3" type="audio/mpeg">
    </audio>
    
    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <h1>INTERNET OLYMPICS 2</h1>
            <p class="subtitle">SELECT UR CHARACTER</p>
        </div>

        <!-- Access Code Entry -->
        <div class="access-code-container window-95" id="accessCodeContainer">
            <h2>ENTER ACCESS CODE</h2>
            <input type="text" 
                   class="access-code-input" 
                   id="accessCodeInput" 
                   placeholder="ENTER CODE"
                   maxlength="20">
            <button class="access-code-btn" id="validateCodeBtn">ENTER</button>
            <div class="error-message" id="errorMessage">INVALID ACCESS CODE</div>
        </div>

        <!-- View Toggle -->
        <div class="view-toggle" id="viewToggle">
            <button class="toggle-btn active" data-view="carousel">CAROUSEL</button>
            <button class="toggle-btn" data-view="grid">GRID</button>
        </div>

        <!-- Character Selection - Carousel -->
        <div class="carousel-wrapper" id="carouselWrapper">
            <div class="carousel" id="carousel">
                <div class="loading">Loading character discs...</div>
            </div>
            <button class="nav-arrow prev" id="prevBtn">‚Äπ</button>
            <button class="nav-arrow next" id="nextBtn">‚Ä∫</button>
        </div>

        <!-- Character Selection - Grid -->
        <div class="grid-wrapper" id="gridWrapper">
            <div class="discs-grid" id="discsGrid">
                <div class="loading">Loading character discs...</div>
            </div>
        </div>

        <p class="instructions" id="instructions" style="display: none;">
            ‚ñì‚ñí‚ñë CLICK THE DISC TO SELECT UR CHARACTER ‚ñë‚ñí‚ñì
        </p>

        <!-- Pending Status -->
        <div class="pending-status window-95" id="pendingStatus">
            <h3>YOUR SELECTION IS PENDING APPROVAL</h3>
            <div class="pending-disc" id="pendingDisc"></div>
            <div id="pendingInfo"></div>
            <div class="emoji-line">üçìüíøüî™üîãüê≥üçÑ</div>
            <button class="change-selection-btn" id="changeSelectionBtn">CHANGE SELECTION</button>
        </div>

        <!-- Player Profile -->
        <div class="player-profile window-95" id="playerProfile">
            <div class="profile-title-container">
                <h3><span id="profileTitle">YOUR PROFILE</span></h3>
            </div>
            
            <!-- Moderator Note -->
            <div id="moderatorNote" class="moderator-note">
                <p> üé± <span id="noteText"></span></p>
            </div>

            <div class="profile-disc" id="profileDisc"></div>
            <div class="profile-info" id="profileInfo"></div>
            
            <!-- Credit Section -->
            <div id="creditSection" class="credit-section">
                <h3>YOUR CREDITS: <span id="creditAmount">0</span></h3>
                <button id="reopenShopBtn">SPEND CREDITS ON TOOLS</button>
            </div>
            
            <!-- Payment Due -->
            <div id="paymentDue" class="payment-due">
                <h3>FUNDS DUE: <span id="amountOwed">0</span></h3>
                <p>Send dollaz to @worksucksdotnet</p>
            </div>
            
            <div class="emoji-line">üíΩüîåüçìüé±</div>
            <button class="home-button" id="homeBtn">RETURN HOME üíæ</button>
        </div>
    </div>

    <!-- Character Selection Modal (First Step) -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content window-95">
            <div class="modal-header">
                <span>CHARACTER SELECTION</span>
                <button class="close-modal" id="closeModalBtn">√ó</button>
            </div>
            <div class="modal-inner">
                <div class="modal-disc">
                    <img id="modalDiscImg" src="" alt="">
                </div>
                <h2 class="character-name" id="characterName"></h2>
                <p class="character-show" id="characterShow"></p>
                
                <!-- Add-ons Question Modal -->
                <div class="addons-question" id="addonsQuestion">
                    <div class="weapons-preview">
                        <img src="../assets/cast/weapons.png" alt="Cool Weapons" class="weapons-preview-img">
                    </div>
                    <h3 class="question-title">DO YOU WANT TO BUY ANY ADD-ONS OR WEAPONS?</h3>
                    <p class="price-note">stuff starts at <span class="small-price">$25</span></p>
                    <div class="question-buttons">
                        <button class="question-btn yes-btn" id="yesAddonsBtn">YES! SHOW ME THE GOODS</button>
                        <button class="question-btn no-btn" id="noAddonsBtn">NO THANKS, JUST THE CHARACTER</button>
                    </div>
                </div>
                
                <!-- Weapons Section (Hidden initially) -->
                <div class="weapons-section" id="weaponsSection" style="display: none;">
                    <h3 class="weapons-title">‚ñì‚ñí‚ñë COOL STUFF & WEAP0NZ ‚ñë‚ñí‚ñì</h3>
                    <div class="weapons-grid" id="weaponsGrid"></div>
                    
                    <div class="cart-summary">
                        <div class="total-price" id="totalPriceDiv">SELECT YOUR WEAPONZ!</div>
                        <button class="checkout-btn" id="checkoutBtn">ADD TO TAB & CHECKOUT ‚Üí</button>
                        <button class="skip-btn" id="skipBtn">ACTUALLY, SKIP WEAPONS ‚Üí</button>
                        
                        <!-- Payment Instructions -->
                        <div class="payment-modal pending" id="paymentModal">
                            <div class="pending-badge">PENDING!</div>
                            <h3>üçìüé±CHILL N WAIT 4 MOD APPROVALüçìüé±</h3>
                            <div class="emoji-line">üíøüîãüî™üê∞üçÑ</div>
                            <p id="paymentMessage"></p>
                            <div class="payment-handles">
                                <strong>VENMO: @worksucksdotnet</strong>
                                <strong>ZELLE: paizley@worksucks.net</strong>
                            </div>
                            <p class="payment-note">
                                IMPORTANT: Include your Instagram handle in the payment description!
                            </p>
                            <div class="emoji-line">üê≥üçÑüé±üíäüß∏üîå</div>
                            <p class="approval-status">
                                ‚ö° watching for mod approval... refresh or wait! ‚ö°
                            </p>
                            <p class="mod-message">
                                SEE U SOOOOON XOXOXOXOX ‚ô•‚ô•‚ô•<br>
                                - mod
                            </p>
                        </div>
                        
                        <button class="start-over-btn" id="startOverBtn">START OVER</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script type="module" src="character.js"></script>
</body>
</html>