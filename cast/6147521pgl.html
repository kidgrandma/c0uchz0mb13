<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INTERNET OLYMPICS 2 üéÆ admin control</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen">
        <div class="login-box">
            <div class="window-title">
                <span>üîê Admin Login</span>
            </div>
            <div class="window-body">
                <div class="input-group">
                    <label class="input-label">password:</label>
                    <input type="password" id="adminPassword" class="xp-input" placeholder="enter admin password">
                </div>
                <button class="xp-button" id="loginBtn">login</button>
                <div class="error" id="loginError">wrong password. try again.</div>
            </div>
        </div>
    </div>

    <!-- Desktop -->
    <div id="desktop">
        <div class="desktop-icons">
            <div class="desktop-icon" data-window="dashboard">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Crect width='48' height='48' fill='%23008080'/%3E%3Crect x='8' y='8' width='32' height='24' fill='white'/%3E%3Crect x='12' y='20' width='6' height='8' fill='%23008080'/%3E%3Crect x='21' y='16' width='6' height='12' fill='%23008080'/%3E%3Crect x='30' y='12' width='6' height='16' fill='%23008080'/%3E%3C/svg%3E" alt="Dashboard">
                <div class="icon-label">Dashboard</div>
            </div>
            
            <div class="desktop-icon" data-window="users">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Crect width='48' height='48' fill='%23ffcc00'/%3E%3Ccircle cx='24' cy='16' r='8' fill='white'/%3E%3Cellipse cx='24' cy='40' rx='16' ry='12' fill='white'/%3E%3C/svg%3E" alt="Users">
                <div class="icon-label">Players</div>
                <span class="notification-badge" id="playerCount" style="display:none">0</span>
            </div>
            
            <div class="desktop-icon" data-window="wallets">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Crect width='48' height='48' fill='%2300cc00'/%3E%3Ctext x='24' y='32' text-anchor='middle' fill='white' font-size='20' font-weight='bold'%3E$%3C/text%3E%3C/svg%3E" alt="Wallets">
                <div class="icon-label">Wallets üí∞</div>
            </div>
            
            <div class="desktop-icon" data-window="tools">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Crect width='48' height='48' fill='%236600cc'/%3E%3Cpolygon points='24,8 32,20 20,20 20,32 28,32 28,20 36,32 12,32' fill='white'/%3E%3C/svg%3E" alt="Tools">
                <div class="icon-label">Tools</div>
            </div>
            
            <div class="desktop-icon" data-action="logout">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%3Crect width='48' height='48' fill='%23cc0000'/%3E%3Crect x='8' y='22' width='24' height='4' fill='white'/%3E%3Cpolygon points='40,24 32,16 32,20 28,20 28,28 32,28 32,32' fill='white'/%3E%3C/svg%3E" alt="Logout">
                <div class="icon-label">Logout</div>
            </div>
        </div>

        <!-- Windows -->
        <!-- Dashboard Window -->
        <div class="window" id="window-dashboard" style="left: 100px; top: 50px;">
            <div class="window-header">
                <span>üìä Dashboard</span>
                <div class="window-controls">
                    <button class="window-btn" data-action="minimize" data-window="dashboard">_</button>
                    <button class="window-btn" data-action="close" data-window="dashboard">√ó</button>
                </div>
            </div>
            <div class="window-content">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalPlayers">0</div>
                        <div class="stat-label">total players</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="activePlayers">0</div>
                        <div class="stat-label">active</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalCredits">0</div>
                        <div class="stat-label">total credits</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="pendingCount">0</div>
                        <div class="stat-label">pending</div>
                    </div>
                </div>
                
                <h3>Team Wallets</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value team-hot" id="hotTeamWallet">0</div>
                        <div class="stat-label">HOT üî• wallet</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value team-cold" id="coldTeamWallet">0</div>
                        <div class="stat-label">COLD ‚ùÑÔ∏è wallet</div>
                    </div>
                </div>
                
                <h3>Recent Activity</h3>
                <div id="recentActivity">
                    <p>Loading...</p>
                </div>
            </div>
        </div>

        <!-- Users Window -->
        <div class="window" id="window-users" style="left: 150px; top: 100px; width: 900px;">
            <div class="window-header">
                <span>üë• Players Management</span>
                <div class="window-controls">
                    <button class="window-btn" data-action="minimize" data-window="users">_</button>
                    <button class="window-btn" data-action="close" data-window="users">√ó</button>
                </div>
            </div>
            <div class="window-content">
                <div class="quick-actions">
                    <button class="xp-button" onclick="AdminApp.showAddUserModal()">+ add player</button>
                </div>
                
                <table class="data-table" id="usersTable">
                    <thead>
                        <tr>
                            <th>Code</th>
                            <th>Handle</th>
                            <th>Character</th>
                            <th>Team</th>
                            <th>Status</th>
                            <th>Credits</th>
                            <th>Ind. Points</th>
                            <th>Tools</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="usersTableBody">
                        <!-- Will be populated -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Wallets Window -->
        <div class="window" id="window-wallets" style="left: 200px; top: 150px; width: 700px;">
            <div class="window-header">
                <span>üí∞ Wallets Management</span>
                <div class="window-controls">
                    <button class="window-btn" data-action="minimize" data-window="wallets">_</button>
                    <button class="window-btn" data-action="close" data-window="wallets">√ó</button>
                </div>
            </div>
            <div class="window-content">
                <div class="tabs">
                    <div class="tab active" onclick="AdminApp.switchTab('team-wallets')">Team Wallets</div>
                    <div class="tab" onclick="AdminApp.switchTab('individual-wallets')">Individual Points</div>
                    <div class="tab" onclick="AdminApp.switchTab('bulk-actions')">Bulk Actions</div>
                </div>
                
                <div class="tab-content active" id="tab-team-wallets">
                    <div class="wallet-display">
                        <div class="wallet-header">
                            <span>HOT üî• Team Wallet</span>
                            <span class="wallet-balance" id="hotWalletBalance">0</span>
                        </div>
                        <div class="form-grid">
                            <label class="form-label">Points:</label>
                            <input type="number" class="form-input" id="hotWalletInput" placeholder="0">
                            
                            <label class="form-label">Action:</label>
                            <select class="form-select" id="hotWalletAction">
                                <option value="add">Add to wallet</option>
                                <option value="subtract">Subtract from wallet</option>
                                <option value="set">Set wallet to</option>
                                <option value="distribute">Distribute to team</option>
                            </select>
                        </div>
                        <button class="xp-button" onclick="AdminApp.updateTeamWallet('HOT')">update HOT wallet</button>
                    </div>
                    
                    <div class="wallet-display">
                        <div class="wallet-header">
                            <span>COLD ‚ùÑÔ∏è Team Wallet</span>
                            <span class="wallet-balance" id="coldWalletBalance">0</span>
                        </div>
                        <div class="form-grid">
                            <label class="form-label">Points:</label>
                            <input type="number" class="form-input" id="coldWalletInput" placeholder="0">
                            
                            <label class="form-label">Action:</label>
                            <select class="form-select" id="coldWalletAction">
                                <option value="add">Add to wallet</option>
                                <option value="subtract">Subtract from wallet</option>
                                <option value="set">Set wallet to</option>
                                <option value="distribute">Distribute to team</option>
                            </select>
                        </div>
                        <button class="xp-button" onclick="AdminApp.updateTeamWallet('COLD')">update COLD wallet</button>
                    </div>
                </div>
                
                <div class="tab-content" id="tab-individual-wallets">
                    <div class="form-grid">
                        <label class="form-label">Player:</label>
                        <select class="form-select" id="pointsPlayerSelect">
                            <option value="">Select player...</option>
                        </select>
                        
                        <label class="form-label">Points:</label>
                        <input type="number" class="form-input" id="individualPointsInput" placeholder="0">
                        
                        <label class="form-label">Type:</label>
                        <select class="form-select" id="pointsType">
                            <option value="add">Add</option>
                            <option value="subtract">Subtract</option>
                            <option value="set">Set to</option>
                        </select>
                    </div>
                    <div class="form-buttons">
                        <button class="xp-button" onclick="AdminApp.updateIndividualPoints()">update points</button>
                    </div>
                </div>
                
                <div class="tab-content" id="tab-bulk-actions">
                    <div class="quick-actions">
                        <button class="quick-btn" onclick="AdminApp.resetAllPoints()">reset all individual points</button>
                        <button class="quick-btn" onclick="AdminApp.resetTeamWallets()">reset team wallets</button>
                        <button class="quick-btn" onclick="AdminApp.doubleAllPoints()">double all individual points</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tools Window -->
        <div class="window" id="window-tools" style="left: 300px; top: 200px; width: 700px;">
            <div class="window-header">
                <span>üîß Tools Management</span>
                <div class="window-controls">
                    <button class="window-btn" data-action="minimize" data-window="tools">_</button>
                    <button class="window-btn" data-action="close" data-window="tools">√ó</button>
                </div>
            </div>
            <div class="window-content">
                <div class="quick-actions">
                    <button class="xp-button" onclick="AdminApp.showAddToolModal()">+ add tool</button>
                </div>
                
                <div class="tools-grid" id="toolsGrid">
                    <!-- Will be populated -->
                </div>
            </div>
        </div>
    </div>

    <!-- Taskbar -->
    <div class="taskbar">
        <button class="start-button">
            <span>ü™ü</span>
            <span>Start</span>
        </button>
        <div class="taskbar-windows" id="taskbarWindows">
            <!-- Will be populated -->
        </div>
        <div class="system-tray">
            <span id="clock">00:00</span>
        </div>
    </div>

    <!-- Modals -->
    <!-- Edit User Modal -->
    <div class="modal" id="editUserModal">
        <div class="modal-header">
            <span>Edit Player</span>
            <button class="window-btn" onclick="AdminApp.closeModal('editUserModal')">√ó</button>
        </div>
        <div class="modal-body">
            <div class="form-grid">
                <label class="form-label">Access Code:</label>
                <input type="text" class="form-input" id="editAccessCode" readonly>
                
                <label class="form-label">Handle:</label>
                <input type="text" class="form-input" id="editHandle">
                
                <label class="form-label">Character:</label>
                <select class="form-select" id="editCharacterSelect">
                    <option value="">None</option>
                </select>
                
                <label class="form-label">Team:</label>
                <select class="form-select" id="editTeam">
                    <option value="">None</option>
                    <option value="HOT">HOT üî•</option>
                    <option value="COLD">COLD ‚ùÑÔ∏è</option>
                </select>
                
                <label class="form-label">Status:</label>
                <select class="form-select" id="editStatus">
                    <option value="active">Active</option>
                    <option value="dead">Dead</option>
                    <option value="blocked">Blocked</option>
                </select>
                
                <label class="form-label">Credits:</label>
                <input type="number" class="form-input" id="editCredits">
                
                <label class="form-label">Individual Points:</label>
                <input type="number" class="form-input" id="editIndividualPoints">
            </div>
            
            <!-- User's Tools -->
            <div class="tools-section">
                <h4>Player's Tools</h4>
                <div class="tools-list" id="editUserTools">
                    <!-- Will be populated -->
                </div>
                <button class="xp-button" style="margin-top: 10px;" onclick="AdminApp.showAssignToolModal()">+ assign tool</button>
            </div>
            
            <div class="form-buttons">
                <button class="xp-button" onclick="AdminApp.saveUserEdit()">save</button>
                <button class="xp-button" onclick="AdminApp.closeModal('editUserModal')">cancel</button>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal" id="addUserModal">
        <div class="modal-header">
            <span>Add New Player</span>
            <button class="window-btn" onclick="AdminApp.closeModal('addUserModal')">√ó</button>
        </div>
        <div class="modal-body">
            <div class="form-grid">
                <label class="form-label">Access Code:</label>
                <input type="text" class="form-input" id="newAccessCode" placeholder="UNIQUE CODE">
                
                <label class="form-label">Handle:</label>
                <input type="text" class="form-input" id="newHandle" placeholder="@username">
                
                <label class="form-label">Initial Credits:</label>
                <input type="number" class="form-input" id="newCredits" value="0">
            </div>
            <div class="form-buttons">
                <button class="xp-button" onclick="AdminApp.addNewUser()">create player</button>
                <button class="xp-button" onclick="AdminApp.closeModal('addUserModal')">cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Tool Modal -->
    <div class="modal" id="addToolModal">
        <div class="modal-header">
            <span>Add New Tool</span>
            <button class="window-btn" onclick="AdminApp.closeModal('addToolModal')">√ó</button>
        </div>
        <div class="modal-body">
            <div class="form-grid">
                <label class="form-label">Name:</label>
                <input type="text" class="form-input" id="newToolName" placeholder="Tool name">
                
                <label class="form-label">Description:</label>
                <textarea class="form-input" id="newToolDesc" rows="2"></textarea>
                
                <label class="form-label">Price:</label>
                <input type="number" class="form-input" id="newToolPrice" value="25">
                
                <label class="form-label">Image file:</label>
                <select class="form-select" id="newToolImage">
                    <option value="anon-hack.png">anon-hack.png</option>
                    <option value="glasses-see.png">glasses-see.png</option>
                    <option value="kool-aid-life.png">kool-aid-life.png</option>
                    <option value="labubu-voodoo.png">labubu-voodoo.png</option>
                    <option value="blessed-beyblade.png">blessed-beyblade.png</option>
                    <option value="game-pass.png">game-pass.png</option>
                </select>
                
                <label class="form-label">Visible:</label>
                <select class="form-select" id="newToolVisible">
                    <option value="true">Yes</option>
                    <option value="false">No</option>
                </select>
            </div>
            <div class="form-buttons">
                <button class="xp-button" onclick="AdminApp.addNewTool()">create tool</button>
                <button class="xp-button" onclick="AdminApp.closeModal('addToolModal')">cancel</button>
            </div>
        </div>
    </div>

    <!-- Assign Tool Modal -->
    <div class="modal" id="assignToolModal">
        <div class="modal-header">
            <span>Assign Tool to Player</span>
            <button class="window-btn" onclick="AdminApp.closeModal('assignToolModal')">√ó</button>
        </div>
        <div class="modal-body">
            <div class="form-grid">
                <label class="form-label">Tool:</label>
                <select class="form-select" id="assignToolSelect">
                    <option value="">Select tool...</option>
                </select>
                
                <label class="form-label">Status:</label>
                <select class="form-select" id="assignToolStatus">
                    <option value="available">Available</option>
                    <option value="used">Used</option>
                </select>
            </div>
            <div class="form-buttons">
                <button class="xp-button" onclick="AdminApp.assignToolToUser()">assign</button>
                <button class="xp-button" onclick="AdminApp.closeModal('assignToolModal')">cancel</button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Scripts -->
    <script type="module" src="admin.js"></script>
</body>
</html>